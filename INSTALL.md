# 🚀 安装和使用指南

本指南将帮助你快速安装和使用HTML转PDF电子书生成器插件。

## 📋 安装前准备

### 系统要求检查
在开始安装前，请确认你的系统满足以下要求：

```
✅ Chrome浏览器版本 ≥ 88
✅ Windows 7+ / macOS 10.12+ / Linux Ubuntu 16.04+
✅ 可用内存 ≥ 2GB（推荐4GB+）
✅ 硬盘空闲空间 ≥ 100MB
```

### 必要文件准备
1. **下载项目文件**（你应该已经有了）
2. **准备图标文件**（参考 `icons/README.md`）

## 🔧 安装步骤

### 步骤1：准备图标文件
在开始安装前，你需要准备三个图标文件：

```bash
# 在icons目录下需要以下文件：
icons/
├── icon16.png   (16×16像素)
├── icon48.png   (48×48像素)
└── icon128.png  (128×128像素)
```

**快速生成图标**：
1. 访问 https://favicon.io/emoji-favicons/
2. 搜索 "book" 或使用 📚 emoji
3. 下载并重命名文件

### 步骤2：打开Chrome扩展管理
有以下几种方式：

**方式A（地址栏）**：
```
chrome://extensions/
```

**方式B（菜单）**：
```
Chrome菜单 → 更多工具 → 扩展程序
```

**方式C（快捷键）**：
```
Windows: Ctrl + Shift + Delete → 扩展程序
Mac: Cmd + Shift + Delete → 扩展程序
```

### 步骤3：启用开发者模式
在扩展管理页面右上角找到 **"开发者模式"** 开关，点击启用。

```
开发者模式: [关闭] → [开启] ✅
```

### 步骤4：加载扩展程序
1. 点击 **"加载已解压的扩展程序"** 按钮
2. 在文件选择对话框中，导航到项目文件夹
3. 选择包含 `manifest.json` 的文件夹
4. 点击 **"选择文件夹"**

### 步骤5：验证安装
安装成功后，你应该看到：

```
✅ 扩展列表中出现 "HTML转PDF电子书生成器"
✅ 浏览器工具栏出现插件图标
✅ 扩展状态显示为 "已启用"
```

## 🎯 首次使用

### 测试插件功能
我们建议用ESP32指南页面来测试插件：

1. **打开测试页面**
   ```
   https://duruofu.github.io/ESP32-Guide/docs/guide/01.%E8%AE%A4%E8%AF%86ESP32/1.2-ESP32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1.%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Windows.html
   ```

2. **启动插件**
   - 点击浏览器工具栏的插件图标
   - 插件弹窗应该正常显示

3. **检查页面识别**
   - 确认页面标题被正确识别
   - 验证URL显示正常

4. **配置生成选项**
   ```
   📖 电子书标题: ESP32开发环境搭建—Windows系统
   ✍️ 作者: [可选填写]
   📄 页面大小: A4
   
   选项配置:
   ☑️ 包含图片    ← 推荐开启
   ☑️ 生成目录    ← 推荐开启  
   ☑️ 保留内部链接 ← 推荐开启
   ```

5. **生成PDF**
   - 点击 **"🚀 生成PDF电子书"**
   - 等待处理进度条完成
   - 检查下载的PDF文件

## 📖 基本使用流程

### 日常使用步骤
```
1. 浏览到目标网页
   ↓
2. 点击插件图标
   ↓  
3. 确认/修改配置选项
   ↓
4. 点击"生成PDF电子书"
   ↓
5. 等待处理完成
   ↓
6. 获得PDF电子书文件
```

### 适合转换的网页类型
- ✅ **技术文档**：GitHub Wiki、GitBook、在线手册
- ✅ **教程指南**：编程教程、使用说明、学习资料  
- ✅ **博客文章**：技术博客、新闻报道、分析文章
- ✅ **在线书籍**：电子书章节、研究论文
- ❌ **不适合**：社交媒体、购物网站、视频页面

### 最佳使用效果建议
1. **内容完整性**：确保页面完全加载后再转换
2. **网络稳定**：转换包含图片的页面时保持网络连接
3. **页面结构**：结构化好的网页（有明确的标题层级）效果更佳
4. **内容长度**：单个页面内容不要过长（建议<50页）

## 🛠️ 高级配置

### 自定义设置优化
可以根据不同使用场景调整配置：

**学术论文模式**：
```
页面大小: Letter
包含图片: ☑️
生成目录: ☑️  
保留链接: ☑️
作者: [填写真实姓名]
```

**快速阅读模式**：  
```
页面大小: A4
包含图片: ☐ (提高生成速度)
生成目录: ☑️
保留链接: ☐
```

**完整归档模式**：
```
页面大小: A4  
包含图片: ☑️
生成目录: ☑️
保留链接: ☑️
```

### 批量处理技巧
对于系列教程或多页文档：

1. **分页转换**：逐页转换，后期合并
2. **统一命名**：使用一致的命名规则
3. **目录整理**：转换后手动整理总目录

## 🐛 常见问题解决

### 安装问题

**Q1: 找不到"开发者模式"开关**
```
A: 确保你使用的是最新版本的Chrome浏览器
   在扩展管理页面右上角查找开关按钮
```

**Q2: 加载扩展时提示错误**  
```
A: 检查以下项目：
   - manifest.json文件是否存在且格式正确
   - icons目录下是否有必需的图标文件  
   - 文件路径中是否包含中文或特殊字符
```

**Q3: 插件图标不显示**
```
A: 问题通常在图标文件：
   - 检查图标文件名是否完全正确
   - 确认文件格式为PNG
   - 验证图标尺寸是否精确匹配
```

### 使用问题

**Q4: 点击插件图标没有反应**
```
A: 尝试以下解决步骤：
   1. 刷新当前网页
   2. 重启Chrome浏览器
   3. 重新加载扩展程序
   4. 检查浏览器控制台是否有错误信息
```

**Q5: 生成的PDF内容不完整**
```
A: 可能原因和解决方案：
   - 页面未完全加载 → 等待页面加载完成
   - 内容动态加载 → 滚动到页面底部等待加载
   - 网站反爬虫机制 → 尝试在无痕模式下使用
```

**Q6: PDF中图片显示异常**
```  
A: 图片问题通常由以下原因：
   - 跨域限制 → 无法完全避免，属于浏览器安全限制
   - 网络连接 → 确保网络稳定
   - 图片格式 → 某些WebP格式可能不支持
```

## 📞 获取帮助

如果遇到其他问题：

1. **查看浏览器控制台**
   ```
   按F12打开开发者工具 → Console标签
   查看是否有错误信息
   ```

2. **检查扩展程序日志**
   ```
   扩展管理页面 → 插件详情 → 检查视图
   ```

3. **重新安装**
   ```
   如果问题持续存在，删除扩展后重新安装
   ```

## 🎉 安装完成

恭喜！你已经成功安装了HTML转PDF电子书生成器。现在你可以：

- 🔖 将喜欢的网页转换为精美的PDF电子书
- 📚 建立自己的技术文档库  
- 📖 制作便于离线阅读的学习资料
- 💾 永久保存有价值的网络内容

开始享受从网页到电子书的神奇转换过程吧！ 📚✨ 